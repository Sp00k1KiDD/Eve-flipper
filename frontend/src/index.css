@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================================================================
   Theme system: palette × mode (dark/light)
   Color vars are RGB triplets so Tailwind opacity modifiers work:
     bg-eve-accent/10  →  rgb(var(--eve-accent) / 0.1)
   Direct CSS usage:  rgb(var(--eve-accent))
   =================================================================== */

/* ---------- DARK palettes ---------- */

/* Classic EVE gold — default */
:root,
[data-palette="classic"][data-mode="dark"] {
  --eve-dark: 13 13 13;
  --eve-panel: 26 26 26;
  --eve-panel-hover: 34 34 34;
  --eve-input: 35 35 35;
  --eve-accent: 230 149 0;
  --eve-accent-hover: 240 165 0;
  --eve-accent-dim: 179 116 0;
  --eve-text: 192 192 192;
  --eve-dim: 140 140 140;
  --eve-success: 0 180 80;
  --eve-error: 220 60 60;
  --eve-warning: 230 149 0;
  --eve-border: 42 42 42;
  --eve-border-light: 58 58 58;
  --eve-glow: rgba(230, 149, 0, 0.15);
  --eve-selection: rgba(230, 149, 0, 0.3);
  --eve-scrollbar-track: #0d0d0d;
  --eve-scrollbar-thumb: #3a3a3a;
  --eve-scrollbar-thumb-hover: #555;
}

/* Caldari blue */
[data-palette="caldari"][data-mode="dark"] {
  --eve-dark: 10 14 20;
  --eve-panel: 17 24 32;
  --eve-panel-hover: 26 34 48;
  --eve-input: 22 30 40;
  --eve-accent: 74 158 255;
  --eve-accent-hover: 106 180 255;
  --eve-accent-dim: 42 108 192;
  --eve-text: 184 200 216;
  --eve-dim: 106 122 138;
  --eve-success: 0 180 80;
  --eve-error: 220 60 60;
  --eve-warning: 230 149 0;
  --eve-border: 30 42 56;
  --eve-border-light: 42 58 74;
  --eve-glow: rgba(74, 158, 255, 0.15);
  --eve-selection: rgba(74, 158, 255, 0.3);
  --eve-scrollbar-track: #0a0e14;
  --eve-scrollbar-thumb: #2a3a4a;
  --eve-scrollbar-thumb-hover: #3a5060;
}

/* Amarr gold */
[data-palette="amarr"][data-mode="dark"] {
  --eve-dark: 18 16 10;
  --eve-panel: 30 26 16;
  --eve-panel-hover: 40 34 26;
  --eve-input: 34 32 24;
  --eve-accent: 255 215 0;
  --eve-accent-hover: 255 224 64;
  --eve-accent-dim: 192 160 0;
  --eve-text: 208 200 176;
  --eve-dim: 138 128 104;
  --eve-success: 0 180 80;
  --eve-error: 220 60 60;
  --eve-warning: 230 149 0;
  --eve-border: 42 38 24;
  --eve-border-light: 58 52 40;
  --eve-glow: rgba(255, 215, 0, 0.12);
  --eve-selection: rgba(255, 215, 0, 0.3);
  --eve-scrollbar-track: #12100a;
  --eve-scrollbar-thumb: #3a3428;
  --eve-scrollbar-thumb-hover: #504838;
}

/* Minmatar red */
[data-palette="minmatar"][data-mode="dark"] {
  --eve-dark: 18 10 10;
  --eve-panel: 30 18 18;
  --eve-panel-hover: 42 26 26;
  --eve-input: 34 22 22;
  --eve-accent: 224 80 64;
  --eve-accent-hover: 240 96 80;
  --eve-accent-dim: 168 48 32;
  --eve-text: 200 176 176;
  --eve-dim: 138 106 106;
  --eve-success: 0 180 80;
  --eve-error: 220 60 60;
  --eve-warning: 230 149 0;
  --eve-border: 42 24 24;
  --eve-border-light: 58 40 40;
  --eve-glow: rgba(224, 80, 64, 0.15);
  --eve-selection: rgba(224, 80, 64, 0.3);
  --eve-scrollbar-track: #120a0a;
  --eve-scrollbar-thumb: #3a2828;
  --eve-scrollbar-thumb-hover: #504040;
}

/* Gallente green */
[data-palette="gallente"][data-mode="dark"] {
  --eve-dark: 10 18 10;
  --eve-panel: 18 30 18;
  --eve-panel-hover: 26 42 26;
  --eve-input: 22 34 22;
  --eve-accent: 64 192 96;
  --eve-accent-hover: 80 216 112;
  --eve-accent-dim: 40 144 64;
  --eve-text: 176 200 176;
  --eve-dim: 106 138 106;
  --eve-success: 64 192 96;
  --eve-error: 220 60 60;
  --eve-warning: 230 149 0;
  --eve-border: 24 42 24;
  --eve-border-light: 40 58 40;
  --eve-glow: rgba(64, 192, 96, 0.15);
  --eve-selection: rgba(64, 192, 96, 0.3);
  --eve-scrollbar-track: #0a120a;
  --eve-scrollbar-thumb: #283a28;
  --eve-scrollbar-thumb-hover: #405040;
}

/* Serpentis purple */
[data-palette="serpentis"][data-mode="dark"] {
  --eve-dark: 14 10 20;
  --eve-panel: 24 18 30;
  --eve-panel-hover: 34 26 42;
  --eve-input: 28 22 34;
  --eve-accent: 167 139 250;
  --eve-accent-hover: 191 160 255;
  --eve-accent-dim: 124 92 192;
  --eve-text: 192 184 208;
  --eve-dim: 122 106 138;
  --eve-success: 0 180 80;
  --eve-error: 220 60 60;
  --eve-warning: 230 149 0;
  --eve-border: 34 26 42;
  --eve-border-light: 50 40 56;
  --eve-glow: rgba(167, 139, 250, 0.15);
  --eve-selection: rgba(167, 139, 250, 0.3);
  --eve-scrollbar-track: #0e0a14;
  --eve-scrollbar-thumb: #322838;
  --eve-scrollbar-thumb-hover: #483e58;
}

/* ---------- LIGHT palettes ---------- */

[data-palette="classic"][data-mode="light"] {
  --eve-dark: 255 255 255;
  --eve-panel: 250 250 250;
  --eve-panel-hover: 245 245 245;
  --eve-input: 248 248 248;
  --eve-accent: 192 120 0;
  --eve-accent-hover: 160 101 0;
  --eve-accent-dim: 138 88 0;
  --eve-text: 42 42 42;
  --eve-dim: 106 106 106;
  --eve-success: 0 138 58;
  --eve-error: 192 32 32;
  --eve-warning: 192 120 0;
  --eve-border: 228 228 228;
  --eve-border-light: 212 212 212;
  --eve-glow: rgba(192, 120, 0, 0.1);
  --eve-selection: rgba(192, 120, 0, 0.2);
  --eve-scrollbar-track: #f5f5f5;
  --eve-scrollbar-thumb: #d0d0d0;
  --eve-scrollbar-thumb-hover: #b0b0b0;
}

[data-palette="caldari"][data-mode="light"] {
  --eve-dark: 255 255 255;
  --eve-panel: 250 250 250;
  --eve-panel-hover: 245 245 245;
  --eve-input: 248 248 248;
  --eve-accent: 26 110 192;
  --eve-accent-hover: 10 90 160;
  --eve-accent-dim: 24 96 168;
  --eve-text: 42 42 42;
  --eve-dim: 106 106 106;
  --eve-success: 0 138 58;
  --eve-error: 192 32 32;
  --eve-warning: 192 120 0;
  --eve-border: 228 228 228;
  --eve-border-light: 212 212 212;
  --eve-glow: rgba(26, 110, 192, 0.1);
  --eve-selection: rgba(26, 110, 192, 0.2);
  --eve-scrollbar-track: #f5f5f5;
  --eve-scrollbar-thumb: #d0d0d0;
  --eve-scrollbar-thumb-hover: #b0b0b0;
}

[data-palette="amarr"][data-mode="light"] {
  --eve-dark: 255 255 255;
  --eve-panel: 250 250 250;
  --eve-panel-hover: 245 245 245;
  --eve-input: 248 248 248;
  --eve-accent: 160 128 0;
  --eve-accent-hover: 136 106 0;
  --eve-accent-dim: 122 98 0;
  --eve-text: 42 42 42;
  --eve-dim: 106 106 106;
  --eve-success: 0 138 58;
  --eve-error: 192 32 32;
  --eve-warning: 192 120 0;
  --eve-border: 228 228 228;
  --eve-border-light: 212 212 212;
  --eve-glow: rgba(160, 128, 0, 0.1);
  --eve-selection: rgba(160, 128, 0, 0.2);
  --eve-scrollbar-track: #f5f5f5;
  --eve-scrollbar-thumb: #d0d0d0;
  --eve-scrollbar-thumb-hover: #b0b0b0;
}

[data-palette="minmatar"][data-mode="light"] {
  --eve-dark: 255 255 255;
  --eve-panel: 250 250 250;
  --eve-panel-hover: 245 245 245;
  --eve-input: 248 248 248;
  --eve-accent: 184 48 32;
  --eve-accent-hover: 160 40 24;
  --eve-accent-dim: 136 32 24;
  --eve-text: 42 42 42;
  --eve-dim: 106 106 106;
  --eve-success: 0 138 58;
  --eve-error: 192 32 32;
  --eve-warning: 192 120 0;
  --eve-border: 228 228 228;
  --eve-border-light: 212 212 212;
  --eve-glow: rgba(184, 48, 32, 0.1);
  --eve-selection: rgba(184, 48, 32, 0.2);
  --eve-scrollbar-track: #f5f5f5;
  --eve-scrollbar-thumb: #d0d0d0;
  --eve-scrollbar-thumb-hover: #b0b0b0;
}

[data-palette="gallente"][data-mode="light"] {
  --eve-dark: 255 255 255;
  --eve-panel: 250 250 250;
  --eve-panel-hover: 245 245 245;
  --eve-input: 248 248 248;
  --eve-accent: 26 138 58;
  --eve-accent-hover: 16 112 40;
  --eve-accent-dim: 10 96 32;
  --eve-text: 42 42 42;
  --eve-dim: 106 106 106;
  --eve-success: 26 138 58;
  --eve-error: 192 32 32;
  --eve-warning: 192 120 0;
  --eve-border: 228 228 228;
  --eve-border-light: 212 212 212;
  --eve-glow: rgba(26, 138, 58, 0.1);
  --eve-selection: rgba(26, 138, 58, 0.2);
  --eve-scrollbar-track: #f5f5f5;
  --eve-scrollbar-thumb: #d0d0d0;
  --eve-scrollbar-thumb-hover: #b0b0b0;
}

[data-palette="serpentis"][data-mode="light"] {
  --eve-dark: 255 255 255;
  --eve-panel: 250 250 250;
  --eve-panel-hover: 245 245 245;
  --eve-input: 248 248 248;
  --eve-accent: 124 92 192;
  --eve-accent-hover: 106 72 168;
  --eve-accent-dim: 90 60 144;
  --eve-text: 42 42 42;
  --eve-dim: 106 106 106;
  --eve-success: 0 138 58;
  --eve-error: 192 32 32;
  --eve-warning: 192 120 0;
  --eve-border: 228 228 228;
  --eve-border-light: 212 212 212;
  --eve-glow: rgba(124, 92, 192, 0.1);
  --eve-selection: rgba(124, 92, 192, 0.2);
  --eve-scrollbar-track: #f5f5f5;
  --eve-scrollbar-thumb: #d0d0d0;
  --eve-scrollbar-thumb-hover: #b0b0b0;
}

/* ===================================================================
   Base layer
   =================================================================== */

@layer base {
  * {
    border-color: rgb(var(--eve-border));
  }

  body {
    background-color: rgb(var(--eve-dark));
    color: rgb(var(--eve-text));
    font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Consolas, Monaco, monospace;
    font-size: 0.875rem;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
  }

  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: var(--eve-scrollbar-track); }
  ::-webkit-scrollbar-thumb { background: var(--eve-scrollbar-thumb); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--eve-scrollbar-thumb-hover); }

  ::selection {
    background: var(--eve-selection);
    color: inherit;
  }

  /* Prevent double-tap zoom on interactive elements (mobile) */
  button, a, [role="tab"], input, select {
    touch-action: manipulation;
  }
}

/* ===================================================================
   Responsive utilities
   =================================================================== */

/* Table scroll container: smooth momentum + edge shadow indicators */
.table-scroll-wrapper {
  position: relative;
}

.table-scroll-container {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Gradient fade on right edge to hint horizontal scroll */
.table-scroll-wrapper::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 24px;
  pointer-events: none;
  background: linear-gradient(to right, transparent, rgb(var(--eve-panel)));
  opacity: 0.8;
  z-index: 5;
}

/* Safe area insets for notched phones */
@supports (padding: env(safe-area-inset-bottom)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Wider touch scrollbars on mobile */
@media (pointer: coarse) {
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-thumb { min-height: 40px; }
}

/* ===================================================================
   Discord icon animation (every 3 minutes)
   =================================================================== */

@keyframes discord-pulse {
  0%, 97% {
    filter: drop-shadow(0 0 0 transparent);
    transform: scale(1);
  }
  98% {
    filter: drop-shadow(0 0 8px rgb(var(--eve-accent)));
    transform: scale(1.15);
  }
  98.5% {
    filter: drop-shadow(0 0 12px rgb(var(--eve-accent)));
    transform: scale(1.2);
  }
  99% {
    filter: drop-shadow(0 0 8px rgb(var(--eve-accent)));
    transform: scale(1.15);
  }
  100% {
    filter: drop-shadow(0 0 0 transparent);
    transform: scale(1);
  }
}

.discord-icon-animated {
  animation: discord-pulse 360s ease-in-out infinite;
}
